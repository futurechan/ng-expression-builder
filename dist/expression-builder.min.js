angular.module("expression-builder",[]).controller("ExpressionBuilderController",["$scope",function(o){o.addCondition=function(){o.conditions.push({})},o.addGroup=function(){o.conditions.push({conditions:[]})},o.remove=function(n){var i=o.conditions.indexOf(n);o.removeAt(i)},o.removeAt=function(n){o.conditions.splice(n,1)}}]).directive("expressionBuilder",["$compile",function(o){return{restrict:"EA",controller:"ExpressionBuilderController",templateUrl:"templates/expressionbuilder.html",scope:{conditions:"=",booleanOperators:"=?",comparisonOperators:"=?"},compile:function(n){var i,e=n.contents().remove();return function(n,t){angular.isUndefined(i)&&(i=o(e)),i(n,function(o){t.append(o)}),void 0===n.booleanOperators&&(n.booleanOperators=["AND","OR","AND NOT","XOR"]),void 0===n.comparisonOperators&&(n.comparisonOperators=["=","<>","<","<=",">",">="])}}}}]),angular.module("expression-builder").run(["$templateCache",function(o){o.put("templates/expressionbuilder.html",'<div class=condition-builder><div ng-repeat="c in conditions"><div ng-if="$index != 0" class="form-inline bool-op"><select class="form-control input-sm" ng-options="o as o for o in booleanOperators" ng-model=c.bool></select></div><div ng-if=c.conditions class=condition-group><div class=pull-right><button class="btn btn-danger btn-sm" ng-click=removeAt($index)>&times;</button></div><expression-builder conditions=c.conditions boolean-operators=booleanOperators comparison-operators=comparisonOperators></expression-builder></div><div ng-if=!c.conditions class=form-inline><div class=form-group-sm><input class=form-control ng-model=c.field placeholder=Field><select class=form-control ng-model=c.comparison ng-options="o as o for o in comparisonOperators"></select><input class=form-control ng-model=c.value placeholder=value> <button class="btn btn-danger btn-sm" ng-click=removeAt($index)>&times;</button></div></div></div><div class=condition-group-button-row><button class="btn btn-success btn-sm" ng-click=addCondition()>Add Condition</button> <button class="btn btn-success btn-sm" ng-click=addGroup()>Add Group</button></div></div>')}]);